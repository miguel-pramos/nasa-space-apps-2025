[gd_scene load_steps=21 format=3 uid="uid://de1ahwq8sm5gk"]

[ext_resource type="Script" uid="uid://ca3bydfs4twbs" path="res://scenes/scenarios/scripts/Camera.gd" id="1_8wt38"]
[ext_resource type="Script" uid="uid://cwsw3ebl1y4qp" path="res://scenes/scenarios/scripts/Builder_1.gd" id="2_mhmwn"]
[ext_resource type="Script" uid="uid://b4i7dfy6u3e8w" path="res://scripts/structure.gd" id="3_owgpt"]
[ext_resource type="Resource" uid="uid://ccr00eivs1y06" path="res://structures/module.tres" id="4_mhmwn"]
[ext_resource type="Resource" uid="uid://df6w4rqnjt3b8" path="res://structures/table.tres" id="5_2n13f"]
[ext_resource type="Resource" uid="uid://bksytkvad4uin" path="res://structures/rocks.tres" id="6_oq7yh"]
[ext_resource type="Resource" uid="uid://xv1jcm1ymay4" path="res://structures/rocket_topA.tres" id="7_syk4j"]
[ext_resource type="Environment" uid="uid://jbptgqvstei3" path="res://scenes/main-environment.tres" id="8_8wt38"]
[ext_resource type="Texture2D" uid="uid://bng0d1sou7c8a" path="res://sprites/coin.png" id="9_fgbbp"]
[ext_resource type="Script" uid="uid://b1sucm1imkmdg" path="res://scenes/scenarios/sphere_pos.gd" id="9_spqcl"]
[ext_resource type="MeshLibrary" uid="uid://desldtbtq3p03" path="res://models/Terreno/MeshLibrary/Paredes.tres" id="10_oq7yh"]
[ext_resource type="FontFile" uid="uid://d0cxd77jybrcn" path="res://fonts/lilita_one_regular.ttf" id="10_spqcl"]
[ext_resource type="Texture2D" uid="uid://ciwbdik3tmxtp" path="res://sprites/instructions.png" id="11_nw5s0"]
[ext_resource type="AudioStream" uid="uid://wvfsgkl8qob6" path="res://sounds/ambience.ogg" id="12_k6fy3"]
[ext_resource type="ArrayMesh" uid="uid://coi7ehybekptn" path="res://models/Terreno/Parede/hangar_teste1.obj" id="16_fgbbp"]
[ext_resource type="Shader" uid="uid://dguc5j547gid7" path="res://shaders/cut_sphere.gdshader" id="20_nw5s0"]

[sub_resource type="MeshLibrary" id="MeshLibrary_mhmwn"]

[sub_resource type="LabelSettings" id="LabelSettings_bnm6g"]
font = ExtResource("10_spqcl")
font_size = 24
shadow_color = Color(0, 0, 0, 0.392157)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bnm6g"]
render_priority = 0
shader = ExtResource("20_nw5s0")
shader_parameter/spherePos = Vector3(6.943825, 11.776337, 25.928986)
shader_parameter/borderColor = Color(0.19236434, 0.42222843, 1, 1)
shader_parameter/borderSize = 0.675
shader_parameter/sphereRadius = 20.0
shader_parameter/noiseSpeed = 0.0
shader_parameter/noiseStrength = 0.17
shader_parameter/noiseSize = 0.17

[sub_resource type="PlaneMesh" id="PlaneMesh_tcp7b"]
size = Vector2(9, 15)

[node name="Scenario1" type="Node3D"]
script = ExtResource("1_a7ovx")

[node name="View" type="Node3D" parent="."]
transform = Transform3D(0.707107, -0.40558, 0.579228, 0, 0.819152, 0.573576, -0.707107, -0.40558, 0.579228, 0, 0, 0)
script = ExtResource("1_8wt38")

[node name="Builder" type="Node3D" parent="View" node_paths=PackedStringArray("selector", "selector_container", "view_camera", "gridmap")]
transform = Transform3D(0.70710653, 0, -0.70710653, -0.4055795, 0.8191522, -0.4055795, 0.579228, 0.5735768, 0.579228, 0, 0, 0)
script = ExtResource("2_mhmwn")
structures = Array[ExtResource("3_owgpt")]([ExtResource("4_mhmwn"), ExtResource("5_2n13f"), ExtResource("6_oq7yh"), ExtResource("7_syk4j")])
selector = NodePath("Selector")
selector_container = NodePath("Selector/Container")
view_camera = NodePath("../Camera")
gridmap = NodePath("../../GridMap")

[node name="Selector" type="Node3D" parent="View/Builder"]

[node name="Container" type="Node3D" parent="View/Builder/Selector"]

[node name="Camera" type="Camera3D" parent="View"]
transform = Transform3D(0.9999997, 0, 0, 0, 0.9999999, 7.1525574e-07, 0, 0, 1.0000002, -6.0472765, -3.4685736, 34.95364)
environment = ExtResource("8_8wt38")
fov = 20.0

[node name="SpherePos" type="MeshInstance3D" parent="View/Camera" node_paths=PackedStringArray("cutMesh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.3772564, -0.21734667, -9.158152)
script = ExtResource("9_spqcl")
cutMesh = NodePath("../../../Walls/StaticBody3D/MeshInstance3D")
noiseSize = 0.17
noiseStrength = 0.17
sphereRadius = 20.0
borderSize = 0.675
borderColor = Color(0.19236434, 0.42222843, 1, 1)

[node name="GridMap" type="GridMap" parent="."]
mesh_library = SubResource("MeshLibrary_mhmwn")
cell_size = Vector3(1, 1, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false

[node name="Paredes" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0)
mesh_library = ExtResource("10_oq7yh")
cell_size = Vector3(1, 3, 1)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(4, 65532, 1441839, 5, 65532, 655360, 6, 65532, 1441839, 7, 65532, 1441839, 2, 65529, 655360, 2, 65530, 655360, 2, 65531, 655360, 2, 65532, 655360, 2, 65533, 655360, 2, 65534, 655360, 1, 65534, 1441792, 65534, 65534, 1441792, 65535, 65534, 1441792, 65533, 65534, 1441792, 65532, 65534, 1441792, 2, 65535, 655360, 2, 0, 655360, 2, 1, 655360, 2, 2, 655360, 2, 3, 1048576, 3, 3, 1048576, 1, 3, 1048576, 0, 3, 1048576, 65535, 3, 1048576, 65534, 3, 1048576, 65533, 3, 1048576, 65532, 3, 1048576, 65532, 65528, 1441792, 65533, 65528, 1441792, 65534, 65528, 1441792, 65535, 65528, 1441792, 0, 65528, 1441792, 1, 65528, 1441792, 0, 65534, 1441792, 65531, 65534, 0, 65531, 65533, 0, 65531, 65532, 0, 65531, 65531, 0, 65531, 65530, 0, 65531, 65529, 0, 65531, 65535, 0, 65531, 0, 0, 65531, 1, 0, 65531, 2, 0, 4, 3, 1048576, 5, 2, 655360, 5, 1, 655360, 5, 65535, 655360, 5, 0, 655360, 5, 65534, 655360, 5, 65533, 655360, 5, 65530, 655360, 5, 65531, 655360, 5, 65529, 655360, 4, 65528, 1441792, 3, 65528, 1441792, 2, 65528, 1441792, 5, 3, 655360, 5, 4, 655360, 5, 5, 655360, 5, 6, 655360, 5, 7, 655360, 4, 8, 1048576, 3, 8, 1048576, 2, 8, 1048576, 1, 8, 1048576, 0, 8, 1048576, 65535, 8, 1048576, 65534, 8, 1048576, 65533, 8, 1048576, 65532, 8, 1048576, 65531, 7, 0, 65531, 6, 0, 65531, 5, 0, 65531, 4, 0, 65531, 3, 0)
}

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.948997, -0.24152228, 0.20266142, -1.0774915e-08, 0.642788, 0.76604414, -0.31528506, 0.7269737, -0.6100039, 0, 15.481621, -1.6770325)
shadow_opacity = 0.75

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Top" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
metadata/_edit_use_anchors_ = true

[node name="CashIcon" type="TextureRect" parent="CanvasLayer/Top"]
layout_mode = 0
offset_left = 20.0
offset_top = 24.0
offset_right = 148.0
offset_bottom = 152.0
scale = Vector2(0.3, 0.3)
texture = ExtResource("9_fgbbp")
metadata/_edit_use_anchors_ = true

[node name="Cash" type="Label" parent="CanvasLayer/Top"]
layout_mode = 0
offset_left = 69.0
offset_top = 27.0
offset_right = 270.0
offset_bottom = 101.0
text = "$10,000"
label_settings = SubResource("LabelSettings_bnm6g")
metadata/_edit_use_anchors_ = true

[node name="Bottom" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -648.0
offset_bottom = -648.0
grow_vertical = 0
metadata/_edit_use_anchors_ = true

[node name="Instructions" type="TextureRect" parent="CanvasLayer/Bottom"]
layout_mode = 0
offset_left = 24.0
offset_top = 375.0
offset_right = 344.0
offset_bottom = 887.0
scale = Vector2(0.5, 0.5)
texture = ExtResource("11_nw5s0")
metadata/_edit_use_anchors_ = true

[node name="BackButton" type="Button" parent="CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 201.0
offset_top = -67.0
offset_right = 345.0
offset_bottom = -36.0
grow_vertical = 0
text = "Back to Assembly"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_k6fy3")
volume_db = -30.0
autoplay = true

[node name="Walls" type="Node3D" parent="."]

[node name="StaticBody3D" type="StaticBody3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.50393987, 0, -2.1792307)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/StaticBody3D"]
transform = Transform3D(1.1, 0, 0, 0, 1.1, 0, 0, 0, 1.1984507, -8.717917, 0, -5.424168)
material_override = SubResource("ShaderMaterial_bnm6g")
transparency = 0.35
cast_shadow = 0
ignore_occlusion_culling = true
gi_mode = 2
mesh = ExtResource("16_fgbbp")

[node name="Ground" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_tcp7b")
